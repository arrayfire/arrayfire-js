{"version":3,"sources":["../es6/Dim4.js"],"names":["_","require","fastcall","ref","typedefs","DimTArray","assert","Dim4","af","dim4","Reflect","construct","arguments","data","first","second","third","fourth","length","firstArg","isObject","isArray","get","value","set","buffer","module","exports"],"mappings":"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","file":"Dim4.js","sourcesContent":["'use strict';\nconst _ = require('lodash');\nconst fastcall = require('fastcall');\nconst ref = fastcall.ref;\nconst typedefs = require('./typedefs');\nconst DimTArray = typedefs.DimTArray;\nconst assert = require('assert');\n\nclass Dim4 {\n    static define(af) {\n        af.dim4 = function () {\n            return Reflect.construct(Dim4, arguments);\n        };\n    }\n\n    constructor() {\n        this.data = new DimTArray();\n        this.first = 0;\n        this.second = 0;\n        this.third = 0;\n        this.fourth = 0;\n\n        if (arguments.length) {\n            const firstArg = arguments[0];\n\n            if (_.isObject(firstArg) || _.isArray(firstArg)) {\n               if (firstArg[0] >= 0) {\n                    this.first = firstArg[0];\n                }\n                if (firstArg[1] >= 0) {\n                    this.second = firstArg[1];\n                }\n                if (firstArg[2] >= 0) {\n                    this.third = firstArg[2];\n                }\n                if (firstArg[3] >= 0) {\n                    this.fourth = firstArg[3];\n                }\n            }\n            else {\n                if (arguments[0] >= 0) {\n                    this.first = arguments[0];\n                }\n                if (arguments[1] >= 0) {\n                    this.second = arguments[1];\n                }\n                if (arguments[2] >= 0) {\n                    this.third = arguments[2];\n                }\n                if (arguments[3] >= 0) {\n                    this.fourth = arguments[3];\n                }\n            }\n        }\n    }\n\n    get first() {\n        return this.data.get(0);\n    }\n\n    set first(value) {\n        this.data.set(0, value);\n    }\n\n    get second() {\n        return this.data.get(1);\n    }\n\n    set second(value) {\n        this.data.set(1, value);\n    }\n\n    get third() {\n        return this.data.get(2);\n    }\n\n    set third(value) {\n        this.data.set(2, value);\n    }\n\n    get fourth() {\n        return this.data.get(3);\n    }\n\n    set fourth(value) {\n        this.data.set(3, value);\n    }\n\n    get [0]() {\n        return this.first;\n    }\n\n    set [0](value) {\n        this.first = value;\n    }\n\n    get [1]() {\n        return this.second;\n    }\n\n    set [1](value) {\n        this.second = value;\n    }\n\n    get [2]() {\n        return this.third;\n    }\n\n    set [2](value) {\n        this.third = value;\n    }\n\n    get [3]() {\n        return this.fourth;\n    }\n\n    set [3](value) {\n        this.fourth = value;\n    }\n\n    get ndims() {\n        if (this.fourth > 1) {\n            return 4;\n        }\n        if (this.third > 1) {\n            return 3;\n        }\n        if (this.second > 1) {\n            return 2;\n        }\n        if (this.first > 0) {\n            return 1;\n        }\n        return 0;\n    }\n\n    get elements() {\n        if (this.fourth > 0) {\n            return this.fourth * this.third * this.second * this.first;\n        }\n        if (this.third > 0) {\n            return this.third * this.second * this.first;\n        }\n        if (this.second > 0) {\n            return this.second * this.first;\n        }\n        if (this.first > 0) {\n            return this.first;\n        }\n        return 0;\n    }\n\n    get buffer() {\n        return this.data.buffer;\n    }\n}\n\nmodule.exports = Dim4;"]}