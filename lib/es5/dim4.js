"use strict";
var _ = require("lodash");
var assert = require("better-assert");
function Dim4(dim0, dim1, dim2, dim3) {
  if (_.isArray(dim0)) {
    return new Dim4(dim0[0], dim0[1], dim0[2], dim0[3]);
  }
  this.values = [];
  if (_.isNumber(dim0)) {
    this.values.push(dim0);
  } else {
    this.values.push(1);
  }
  if (_.isNumber(dim1)) {
    this.values.push(dim1);
  } else {
    this.values.push(1);
  }
  if (_.isNumber(dim2)) {
    this.values.push(dim2);
  } else {
    this.values.push(1);
  }
  if (_.isNumber(dim3)) {
    this.values.push(dim3);
  } else {
    this.values.push(1);
  }
  var index;
  for (index = 3; index >= 0; index--) {
    if (this.values[index] !== 1) {
      break;
    }
  }
  this.ndims = this.nDims = index + 1;
  this.elements = this.values[0] * this.values[1] * this.values[2] * this.values[3];
}
module.exports = Dim4;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRpbTQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBK0JBO0FBRUEsQUFBSSxFQUFBLENBQUEsQ0FBQSxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsUUFBTyxDQUFDLENBQUM7QUFDekIsQUFBSSxFQUFBLENBQUEsTUFBSyxFQUFJLENBQUEsT0FBTSxBQUFDLENBQUMsZUFBYyxDQUFDLENBQUM7QUFFckMsT0FBUyxLQUFHLENBQUUsSUFBRyxDQUFHLENBQUEsSUFBRyxDQUFHLENBQUEsSUFBRyxDQUFHLENBQUEsSUFBRyxDQUFHO0FBQ2xDLEtBQUksQ0FBQSxRQUFRLEFBQUMsQ0FBQyxJQUFHLENBQUMsQ0FBRztBQUNqQixTQUFPLElBQUksS0FBRyxBQUFDLENBQUMsSUFBRyxDQUFFLENBQUEsQ0FBQyxDQUFHLENBQUEsSUFBRyxDQUFFLENBQUEsQ0FBQyxDQUFHLENBQUEsSUFBRyxDQUFFLENBQUEsQ0FBQyxDQUFHLENBQUEsSUFBRyxDQUFFLENBQUEsQ0FBQyxDQUFDLENBQUM7RUFDdkQ7QUFBQSxBQUNBLEtBQUcsT0FBTyxFQUFJLEdBQUMsQ0FBQztBQUNoQixLQUFJLENBQUEsU0FBUyxBQUFDLENBQUMsSUFBRyxDQUFDLENBQUc7QUFBRSxPQUFHLE9BQU8sS0FBSyxBQUFDLENBQUMsSUFBRyxDQUFDLENBQUE7RUFBRSxLQUFPO0FBQUUsT0FBRyxPQUFPLEtBQUssQUFBQyxDQUFDLENBQUEsQ0FBQyxDQUFDO0VBQUU7QUFBQSxBQUM3RSxLQUFJLENBQUEsU0FBUyxBQUFDLENBQUMsSUFBRyxDQUFDLENBQUc7QUFBRSxPQUFHLE9BQU8sS0FBSyxBQUFDLENBQUMsSUFBRyxDQUFDLENBQUE7RUFBRSxLQUFPO0FBQUUsT0FBRyxPQUFPLEtBQUssQUFBQyxDQUFDLENBQUEsQ0FBQyxDQUFDO0VBQUU7QUFBQSxBQUM3RSxLQUFJLENBQUEsU0FBUyxBQUFDLENBQUMsSUFBRyxDQUFDLENBQUc7QUFBRSxPQUFHLE9BQU8sS0FBSyxBQUFDLENBQUMsSUFBRyxDQUFDLENBQUE7RUFBRSxLQUFPO0FBQUUsT0FBRyxPQUFPLEtBQUssQUFBQyxDQUFDLENBQUEsQ0FBQyxDQUFDO0VBQUU7QUFBQSxBQUM3RSxLQUFJLENBQUEsU0FBUyxBQUFDLENBQUMsSUFBRyxDQUFDLENBQUc7QUFBRSxPQUFHLE9BQU8sS0FBSyxBQUFDLENBQUMsSUFBRyxDQUFDLENBQUE7RUFBRSxLQUFPO0FBQUUsT0FBRyxPQUFPLEtBQUssQUFBQyxDQUFDLENBQUEsQ0FBQyxDQUFDO0VBQUU7QUFBQSxBQUN6RSxJQUFBLENBQUEsS0FBSSxDQUFDO0FBQ1QsTUFBSyxLQUFJLEVBQUksRUFBQSxDQUFHLENBQUEsS0FBSSxHQUFLLEVBQUEsQ0FBRyxDQUFBLEtBQUksRUFBRSxDQUFHO0FBQ2pDLE9BQUksSUFBRyxPQUFPLENBQUUsS0FBSSxDQUFDLElBQU0sRUFBQSxDQUFHO0FBQzFCLFdBQUs7SUFDVDtBQUFBLEVBQ0o7QUFBQSxBQUNBLEtBQUcsTUFBTSxFQUFJLENBQUEsSUFBRyxNQUFNLEVBQUksQ0FBQSxLQUFJLEVBQUksRUFBQSxDQUFDO0FBQ25DLEtBQUcsU0FBUyxFQUFJLENBQUEsSUFBRyxPQUFPLENBQUUsQ0FBQSxDQUFDLEVBQUksQ0FBQSxJQUFHLE9BQU8sQ0FBRSxDQUFBLENBQUMsQ0FBQSxDQUFJLENBQUEsSUFBRyxPQUFPLENBQUUsQ0FBQSxDQUFDLENBQUEsQ0FBSSxDQUFBLElBQUcsT0FBTyxDQUFFLENBQUEsQ0FBQyxDQUFDO0FBQ3JGO0FBQUEsQUFFQSxLQUFLLFFBQVEsRUFBSSxLQUFHLENBQUM7QUFBQSIsImZpbGUiOiJkaW00LmpzIiwic291cmNlUm9vdCI6ImxpYi9lczYiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQ29weXJpZ2h0IChjKSAyMDE0LTIwMTUsIEFycmF5RmlyZVxuQ29weXJpZ2h0IChjKSAyMDE1IEfDoWJvciBNZXrFkSBha2EgdW5ib3JuY2hpa2tlbiAoZ2Fib3IubWV6b0BvdXRsb29rLmNvbSlcbkFsbCByaWdodHMgcmVzZXJ2ZWQuXG5cblJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dCBtb2RpZmljYXRpb24sXG5hcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG5cbiAqIFJlZGlzdHJpYnV0aW9ucyBvZiBzb3VyY2UgY29kZSBtdXN0IHJldGFpbiB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSwgdGhpc1xuICBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cblxuICogUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLCB0aGlzXG4gIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyIGluIHRoZSBkb2N1bWVudGF0aW9uIGFuZC9vclxuICBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuXG4gKiBOZWl0aGVyIHRoZSBuYW1lIG9mIHRoZSBBcnJheUZpcmUgbm9yIHRoZSBuYW1lcyBvZiBpdHNcbiAgY29udHJpYnV0b3JzIG1heSBiZSB1c2VkIHRvIGVuZG9yc2Ugb3IgcHJvbW90ZSBwcm9kdWN0cyBkZXJpdmVkIGZyb21cbiAgdGhpcyBzb2Z0d2FyZSB3aXRob3V0IHNwZWNpZmljIHByaW9yIHdyaXR0ZW4gcGVybWlzc2lvbi5cblxuVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyBcIkFTIElTXCIgQU5EXG5BTlkgRVhQUkVTUyBPUiBJTVBMSUVEIFdBUlJBTlRJRVMsIElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBUSEUgSU1QTElFRFxuV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFkgQU5EIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFSRVxuRElTQ0xBSU1FRC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIENPUFlSSUdIVCBIT0xERVIgT1IgQ09OVFJJQlVUT1JTIEJFIExJQUJMRSBGT1JcbkFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFU1xuKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRiBTVUJTVElUVVRFIEdPT0RTIE9SIFNFUlZJQ0VTO1xuTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTIElOVEVSUlVQVElPTikgSE9XRVZFUiBDQVVTRUQgQU5EIE9OXG5BTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTiBDT05UUkFDVCwgU1RSSUNUIExJQUJJTElUWSwgT1IgVE9SVFxuKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSkgQVJJU0lORyBJTiBBTlkgV0FZIE9VVCBPRiBUSEUgVVNFIE9GIFRISVNcblNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFIFBPU1NJQklMSVRZIE9GIFNVQ0ggREFNQUdFLlxuKi9cblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmxldCBfID0gcmVxdWlyZShcImxvZGFzaFwiKTtcbmxldCBhc3NlcnQgPSByZXF1aXJlKFwiYmV0dGVyLWFzc2VydFwiKTtcblxuZnVuY3Rpb24gRGltNChkaW0wLCBkaW0xLCBkaW0yLCBkaW0zKSB7XG4gICAgaWYgKF8uaXNBcnJheShkaW0wKSkge1xuICAgICAgICByZXR1cm4gbmV3IERpbTQoZGltMFswXSwgZGltMFsxXSwgZGltMFsyXSwgZGltMFszXSk7XG4gICAgfVxuICAgIHRoaXMudmFsdWVzID0gW107XG4gICAgaWYgKF8uaXNOdW1iZXIoZGltMCkpIHsgdGhpcy52YWx1ZXMucHVzaChkaW0wKSB9IGVsc2UgeyB0aGlzLnZhbHVlcy5wdXNoKDEpOyB9XG4gICAgaWYgKF8uaXNOdW1iZXIoZGltMSkpIHsgdGhpcy52YWx1ZXMucHVzaChkaW0xKSB9IGVsc2UgeyB0aGlzLnZhbHVlcy5wdXNoKDEpOyB9XG4gICAgaWYgKF8uaXNOdW1iZXIoZGltMikpIHsgdGhpcy52YWx1ZXMucHVzaChkaW0yKSB9IGVsc2UgeyB0aGlzLnZhbHVlcy5wdXNoKDEpOyB9XG4gICAgaWYgKF8uaXNOdW1iZXIoZGltMykpIHsgdGhpcy52YWx1ZXMucHVzaChkaW0zKSB9IGVsc2UgeyB0aGlzLnZhbHVlcy5wdXNoKDEpOyB9XG4gICAgbGV0IGluZGV4O1xuICAgIGZvciAoaW5kZXggPSAzOyBpbmRleCA+PSAwOyBpbmRleC0tKSB7XG4gICAgICAgIGlmICh0aGlzLnZhbHVlc1tpbmRleF0gIT09IDEpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMubmRpbXMgPSB0aGlzLm5EaW1zID0gaW5kZXggKyAxO1xuICAgIHRoaXMuZWxlbWVudHMgPSB0aGlzLnZhbHVlc1swXSAqIHRoaXMudmFsdWVzWzFdICogdGhpcy52YWx1ZXNbMl0gKiB0aGlzLnZhbHVlc1szXTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBEaW00OyJdfQ==
